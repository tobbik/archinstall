#!/bin/bash
#

function usage() {
  printf "wayland-lock-now <sway|hypr|gtk>\n"
  printf "  <sway>     -> Lock screen using swaylock \n"
  printf "  <hypr>     -> Lock screen using hyprlock \n"
  printf "  <gtk>      -> Lock screen using gtklock \n"
}

function main() {
  wayland-screen-shooter multiblur
  case "$1" in
    sway)
      pidof swaylock || swaylock --daemonize --config ~/.config/swaylock/config
      ;;
    hypr)
      pidof hyprlock || hyprlock --grace 5
      ;;
    gtk)
      pidof gtklock  || gtklock  --daemonize --config ~/.config/gtklock/config.ini --style ~/.config/gtklock/style.css
      ;;
    *)
      pidof swaylock || swaylock --daemonize --config ~/.config/swaylock/config
  esac
  rm /tmp/screen-*.png
}

main "$@"
